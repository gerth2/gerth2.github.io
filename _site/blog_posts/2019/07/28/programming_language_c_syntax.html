<!DOCTYPE html>
<html lang="en">

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$','$'], ['\\(','\\)']],
          processEscapes: true
        }
      });
      </script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
  
      <script src="https://d3js.org/d3.v3.js"></script>
      <script src="/assets/js/function-plot.js"></script><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Programming Language - C Syntax | Tricking Rocks to Think</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Programming Language - C Syntax" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="C is quirky, flawed, and an enormous success. - Dennis Ritchie, co-creator of the C programming language." />
<meta property="og:description" content="C is quirky, flawed, and an enormous success. - Dennis Ritchie, co-creator of the C programming language." />
<link rel="canonical" href="/blog_posts/2019/07/28/programming_language_c_syntax.html" />
<meta property="og:url" content="/blog_posts/2019/07/28/programming_language_c_syntax.html" />
<meta property="og:site_name" content="Tricking Rocks to Think" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-28T09:31:00-05:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"/blog_posts/2019/07/28/programming_language_c_syntax.html"},"url":"/blog_posts/2019/07/28/programming_language_c_syntax.html","description":"C is quirky, flawed, and an enormous success. - Dennis Ritchie, co-creator of the C programming language.","headline":"Programming Language - C Syntax","@type":"BlogPosting","dateModified":"2019-07-28T09:31:00-05:00","datePublished":"2019-07-28T09:31:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Tricking Rocks to Think" /></head>
<body>

    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" ><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Tricking Rocks to Think</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Programming Language - C Syntax</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-07-28T09:31:00-05:00" itemprop="datePublished">Jul 28, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><em>C is quirky, flawed, and an enormous success. - <a href="https://en.wikipedia.org/wiki/Dennis_Ritchie">Dennis Ritchie, co-creator of the C programming language</a>.</em></p>

<h2 id="introduction">Introduction</h2>

<p>In this post, we’ll explain the basics of the C programming language syntax, showing how it accomplishes the major goals of any high-level programming language.</p>

<h2 id="the-c-like-syntax">The “C-like” Syntax</h2>

<p>Though we’re about to describe software syntax for the C programming language, the implications of these facts and examples are much broader.</p>

<p>Many of the concepts C introduced in how a high-level language is to specify program behavior were inherited into other programming languages. For this reason, many languages are said to have “C-like syntax”, meaning that the fundamental way you specify behavior follows lots of the same design patterns laid out by C. The lion’s share of commonly used programming languages follow these patterns, so it seems to be a good place to start!</p>

<p>For most of the readers of this blog, I’m assuming you have some casual familiarity with how to write software. But even if not, don’t worry - we’re going to go through the basics, again using a ground-up format to explain how computer programs are put together.</p>

<h3 id="storage-of-source-code">Storage of Source Code</h3>

<p>C code source files are just plain-text, ASCII or utf-encoded <a href="https://en.wikipedia.org/wiki/Text_file">text files</a>, which just happen to have extensions like <code class="highlighter-rouge">.c</code> or <code class="highlighter-rouge">.h</code>. They can be opened and edited by any text editor: <a href="https://code.visualstudio.com/">VS Code</a>, <a href="https://notepad-plus-plus.org/">Notepad++</a>, <a href="https://www.vim.org/">VIM</a>, <a href="https://www.gnu.org/software/emacs/">Emacs</a>, even the built-in Windows Notepad (not recommended).</p>

<p>A word to the wise - choose a good text editor which knows about C code syntax, so it can properly <a href="https://en.wikipedia.org/wiki/Syntax_highlighting">highlight different parts of each line</a>. These visual cues are invaluable as a software developer to visualize the behavior of your code.</p>

<p><img src="/assets/syntaxHighlighting.png" alt="Syntax Highlighting" /></p>

<h3 id="c-code-statements--their-components">C Code Statements &amp; Their Components</h3>

<p>Programs are fundamentally built up of a series individual statements. Each statement may contain directions to perform one or more of the common abilities of programming languages.</p>

<p>Every statement has some content, and is terminated by a semicolon (<code class="highlighter-rouge">;</code>). It’s just like putting a period at the end of your sentences. We use semicolons instead of periods because some numbers have periods inside them (ex: <code class="highlighter-rouge">3.14159</code>), and using a unique symbol for unique meaning is easier than having to use the context around the symbol to determine meaning.</p>

<p>Here is an example of a simple statement:</p>

<p><code class="highlighter-rouge">result = 3 + 5.7 * input;</code></p>

<p>We will use this for reference as we go forward in the next few sections.</p>

<h4 id="constants">Constants</h4>

<p>C syntax allows software writers to use numbers in statements. THese numbers can be simple integers, like <code class="highlighter-rouge">3</code> in the sample statement. They can also be fractional or <em>floating point</em> numbers, such <code class="highlighter-rouge">5.7</code> in the sample statement.</p>

<p>A single negative sign (<code class="highlighter-rouge">-</code>) in front of a number will of course make it negative - <code class="highlighter-rouge">-26</code> is an allowed constant, equal to negative twenty six.</p>

<h4 id="variables">Variables</h4>

<p>C syntax also allows you to define names for memory locations. By using the name in a statement, the contents of that memory location will be used. Since a memory location can generally hold a range of numbers, these named memory locations act just like the variables in algebra. Therefor, we call them <em>variables</em></p>

<p>In the statement above, <code class="highlighter-rouge">input</code> and <code class="highlighter-rouge">result</code> are both variables.</p>

<p>Note that C does not allow variables to simply come into existence and disappear at runtime - each variable that is required must be <em>declared</em> prior to usage. The precise manner in how you declare the variable will dictate how many bits are used to store values, whether the value is read/write or read-only, which portions of code are allowed to access the variable, and a whole slew of other properties.</p>

<p>Built into the C programming language are a few basic variable types:</p>

<p><code class="highlighter-rouge">int</code> is the basic integer storage. It is interpreted as a 2’s compliment signed integer.
<code class="highlighter-rouge">char</code> and <code class="highlighter-rouge">short</code> both store integers as well, but take up fewer bits than <code class="highlighter-rouge">int</code> (and therefore have a more restricted range).
<code class="highlighter-rouge">long</code> will also be an integer, but take more bits than <code class="highlighter-rouge">int</code> (and therefore have a wider range`).</p>

<p><code class="highlighter-rouge">char</code> is usually treated as unsigned by default. Any type can get the qualifier <code class="highlighter-rouge">unsigned</code> put in front of it to force it to be unsigned.</p>

<p>The exact number of bits for each of these is not fixed - it depends on what type of processor you are on. This is incredibly horrible when attempting to write code that works the same on multiple machines, so other types like <code class="highlighter-rouge">int8_t</code>, <code class="highlighter-rouge">int16_t</code>, and <code class="highlighter-rouge">int32_t</code> are actually better to use - these explicitly specify the bit width.</p>

<p><code class="highlighter-rouge">double</code> and <code class="highlighter-rouge">float</code> are both floating point representations, allowing you to store decimal values.</p>

<p>A number of other types are built in, and the keyword <code class="highlighter-rouge">typedef</code> even allows you to define your own!</p>

<h4 id="assignment">Assignment</h4>

<p>Once we have variables, we have to have a way to get information into them. In C code statements, the <code class="highlighter-rouge">=</code> equals sign character is used to perform an assignment operation. Assignment takes whatever is on the right-hand side of the <code class="highlighter-rouge">=</code>, and places it into the variable on the left-hand side.</p>

<p>It’s roughly equivalent to a “store” operation, rather than an expression of equality (more on that later). Think of it as memory movement - you do some calculation to get a number. Then, the equals sign indicates the calculation’s result needs to be stored somewhere. The variable on the left hand side provides the memory address where the value is to be stored at.</p>

<p>In the sample statement above, the value calculated on the right-hand side of the <code class="highlighter-rouge">=</code> is being stored into the variable named <code class="highlighter-rouge">result</code> - and by this, we really mean the value is being put into the RAM memory bits associated with the variable <code class="highlighter-rouge">result</code>.</p>

<p>For example, combining our knowledge of Variables and Assignment:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">var1</span> <span class="o">=</span> <span class="mi">25</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">var2</span> <span class="o">=</span> <span class="o">-</span><span class="mi">32</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">var3</span> <span class="o">=</span> <span class="mi">128</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">var4</span> <span class="o">=</span> <span class="o">-</span><span class="mi">534</span><span class="p">.</span><span class="mi">574029</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">var5</span> <span class="o">=</span> <span class="o">-</span><span class="mi">23</span><span class="p">;</span> <span class="c1">// Will do weird stuff.</span>
<span class="kt">short</span> <span class="n">var6</span> <span class="o">=</span> <span class="mi">67</span><span class="p">.</span><span class="mi">5</span><span class="p">;</span> <span class="c1">// Will also do weird stuff.</span>
</code></pre></div></div>

<h4 id="operators">Operators</h4>

<p>On the right-hand side of any <code class="highlighter-rouge">=</code> sign is a set of operations which perform the actual calculation of interest. C syntax reserves a set of characters for performing this calculation. There are a few broad categories of Operators.</p>

<h5 id="combining-numbers-with-math">Combining Numbers with Math</h5>

<p>Some common math functions are implemented:</p>

<ul>
  <li><code class="highlighter-rouge">+</code> adds the thing on the left and on the right of the symbol together</li>
  <li><code class="highlighter-rouge">*</code> multiplies the thing on the left and on the right of the symbol together</li>
  <li><code class="highlighter-rouge">-</code> subtracts the thing on right from the thing on the left of the symbol</li>
  <li><code class="highlighter-rouge">/</code> divides the thing on the left by the thing on the right of the symbol</li>
</ul>

<p>In the example above, the statement says to first multiply the value stored in the variable <code class="highlighter-rouge">input</code> by <code class="highlighter-rouge">5.7</code>, then add <code class="highlighter-rouge">3</code> to the value. Finally, as already mentioned, that calculated value gets stored in <code class="highlighter-rouge">result</code>.</p>

<p>Normal order of operations does apply here (mult/div, then add/subtract). Parenthesis <code class="highlighter-rouge">( )</code> can be used to group operations if a different operation order is required.</p>

<p>For example, the statement <code class="highlighter-rouge">result = (3 + 5.7) * input;</code> simply multiplies <code class="highlighter-rouge">input</code> by <code class="highlighter-rouge">8.7</code>.</p>

<p>There are some “specialty” math functions that C also defines. These aren’t strictly necessary, but provide useful shortcuts:</p>

<ul>
  <li><code class="highlighter-rouge">variable++</code> will <em>change</em> the value stored in <code class="highlighter-rouge">variable</code> by adding 1 to it. This is called “incrementing” the variable.</li>
  <li><code class="highlighter-rouge">variable--</code> will <em>change</em> the value stored in <code class="highlighter-rouge">variable</code> by subtracting 1 from it. This is called “decrementing” the   variable.
    <ul>
      <li>Note <code class="highlighter-rouge">++</code> and <code class="highlighter-rouge">--</code> operators perform an <em>assignment</em> without an explicit <code class="highlighter-rouge">=</code>. This is different than other math operators.</li>
    </ul>
  </li>
  <li>The <code class="highlighter-rouge">%</code> symbol is called the <em>modulo</em> operator - it calculates the remainder after division.
    <ul>
      <li>For example, <code class="highlighter-rouge">7 % 5</code> equals to 2 (since 7 divided by 5 is 1, remainder 2).</li>
    </ul>
  </li>
</ul>

<h5 id="combining-bits-with-boolean-logic">Combining Bits with Boolean Logic</h5>

<p>C syntax also allows you to perform the basic boolean operations <a href="/blog_posts/2019/06/14/boolean_logic.html">we described earlier</a>. Just like regular math, special symbols are reserved to indicate the operation.</p>

<ul>
  <li><code class="highlighter-rouge">&amp;&amp;</code> performs the AND operation between two values</li>
  <li><code class="highlighter-rouge">||</code> performs the OR operation between  two values
    <ul>
      <li><code class="highlighter-rouge">|</code> is the symbol on the key right below backspace, accessed when you hit shift.</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">!</code> performs the NOT operation on a single value</li>
</ul>

<p>All of these are called the “Logical” operators, since they treat their numbers like a single boolean value. The reason we say “treat” is because C doesn’t have a dedicated “boolean” type - the best we can do is just use one byte (named <code class="highlighter-rouge">char</code>, as we will see later). Given these bite-sized variables, the value of <code class="highlighter-rouge">0</code> is treated as FALSE, while any other value is TRUE. As it turns out, these are the more commonly used set of boolean operators.</p>

<p>Lesser used, but worth a mention, are the <em>bitwise</em> operators - they do the same boolean operation, but work bit-by-bit on the number. For example, the bitwise-NOT of <code class="highlighter-rouge">0b1100</code> is <code class="highlighter-rouge">0b0011</code> (note how each bit is flipped to the opposite value). Similarly, the bitwise-OR of <code class="highlighter-rouge">0b1100</code> and <code class="highlighter-rouge">0b0101</code> is <code class="highlighter-rouge">0b1101</code> (each bit in the first number OR’ed with the corresponding bit in the second number).</p>

<ul>
  <li><code class="highlighter-rouge">&amp;</code> performs the bitwise AND operation between two numbers</li>
  <li><code class="highlighter-rouge">|</code> performs the bitwise OR operation between two numbers</li>
  <li><code class="highlighter-rouge">~</code> performs the bitwise NOT on a number.</li>
</ul>

<p>See examples of the usage of these things later on. The key for now - these operators provide ways of combining boolean values to create new boolean values.</p>

<h5 id="creating-boolean-values-from-numbers-with-comparison">Creating Boolean values from Numbers with Comparison</h5>

<p>Just like in math that you’ve probably done in high school, there are a set of operators that will do comparison between two integer numbers to create boolean values. These operators do almost exactly what you would expect:</p>

<ul>
  <li><code class="highlighter-rouge">&gt;</code> and <code class="highlighter-rouge">&gt;=</code> check if one number is greater than (or equal to) another number.</li>
  <li><code class="highlighter-rouge">&lt;</code> and <code class="highlighter-rouge">&lt;=</code> check if one number is less than (or equal to) another number.</li>
  <li><code class="highlighter-rouge">==</code> will check if two numbers are exactly equal</li>
  <li><code class="highlighter-rouge">!=</code> will check if two numbers are not equal</li>
</ul>

<p>Note this distinction between the action of <code class="highlighter-rouge">=</code> and <code class="highlighter-rouge">==</code>, it’s a very common thing that gets lots of new software developers. <code class="highlighter-rouge">=</code> performs <em>assignment</em> - it takes one number and stores it into a memory address. <code class="highlighter-rouge">==</code> performs <em>comparison</em> - it checks whether two numbers are equal or not, creating a boolean from the result.</p>

<h4 id="comments">Comments</h4>

<p>Some special statements are called <em>comments</em>. These are wrapped in special characters that tell the compiler to completely ignore the statement. The statement is only there to help human beings.</p>

<p><code class="highlighter-rouge">// Some comments begin with two slashes</code></p>

<p><code class="highlighter-rouge">/* Others are between slash and star sequences */</code></p>

<p>Put comments wherever you want to remember (or tell the next developer) what your code is doing. Use comments to describe the “why”, and not the “what”.</p>

<h3 id="grouping">Grouping</h3>

<p>A flat list of instructions is just fine for a computer, but generally humans like to visually organize their code a bit more. Therefor, in most programming languages, <em>statements</em> are grouped together into clumps called <em>blocks</em> based on the functionality that is desired.</p>

<h4 id="blocks">Blocks</h4>

<p>A <em>block</em> of code is simply a logical subset of statements which form one cohesive action, and are meant to be run together. <em>Which</em> statements belong together and <em>why</em> will be discussed in due time, but for now consider just that statements will be grouped into units called <em>blocks</em>.</p>

<p>C code uses the symbols <code class="highlighter-rouge">{</code> and <code class="highlighter-rouge">}</code> to mark the start and end of each block. By convention, the contents of the block are indented with whitespace by some amount (the author is a <a href="https://stackoverflow.blog/2017/06/15/developers-use-spaces-make-money-use-tabs/">strong advocate for 4 spaces</a>).</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="c1">// This is the start of a block</span>

    <span class="c1">// Here is some code</span>
    <span class="n">var</span> <span class="o">=</span> <span class="mi">25</span><span class="o">*</span><span class="n">input</span><span class="p">;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">var</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">b00001111</span><span class="p">;</span>

    <span class="c1">// This is the end of a block of code.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Note that multiple blocks can be nested together:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="c1">// start of outer block</span>
  
    <span class="p">{</span>
        <span class="c1">// Inner block 1</span>
    <span class="p">}</span>
  
    <span class="p">{</span>
        <span class="c1">// Inner block 2</span>
    <span class="p">}</span>
  
    <span class="c1">// end of outer block</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Blocks are used to group pieces of code together to defining when certain parts of logic should be executed or skipped based on conditions (<em>conditional flow</em>), or for doing a chunk of code multiple times (<em>Releating Flow</em>).</p>

<h4 id="grouping-for-conditional-flow">Grouping for Conditional Flow</h4>

<p>In C, you can use a set of statement as a prefix to a block, to define conditions on which the block should be run. The prefix statement must use some value or quantity that resolve to a boolean. Then, when the boolean is True, the block is executed. Otherwise, the block is skipped.</p>

<p>The basic syntax for the prefix is <code class="highlighter-rouge">if(&lt;condition&gt;) { &lt;code to execute&gt; }</code>. For a more concrete example:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">condition</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="n">condition</span><span class="p">){</span>
    <span class="c1">// This code will be run.</span>
<span class="p">}</span>

<span class="n">condition</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="n">condition</span><span class="p">){</span>
    <span class="c1">// Now this code will be skipped.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>C also provides a few other tools for making more complex combinations of these if- blocks. The <code class="highlighter-rouge">else</code> statement is the alternative to <code class="highlighter-rouge">if</code> - when <code class="highlighter-rouge">if</code>’s condition is false, then the code for <code class="highlighter-rouge">else</code> is run instead. Concretely:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">condition</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="n">condition</span><span class="p">){</span>
    <span class="c1">// This code will be run.</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// This code will be skipped.</span>
<span class="p">}</span>

<span class="n">condition</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="n">condition</span><span class="p">){</span>
    <span class="c1">// Now this code will be skipped.</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// and this code will be run.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>There is one more construct, which allows you to stack many if statements together, if the conditions should be mutually exclusive (zero or one are true), or a priority is needed (if multiple conditions are true, only one is acted on).</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">condition1</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">condition2</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="n">condition1</span><span class="p">){</span>
    <span class="c1">// This code will be run.</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">condition2</span><span class="p">){</span>
    <span class="c1">// This code will be skipped, since we "hit" the condition1 statement first.  </span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// This code will be skipped.</span>
<span class="p">}</span>

<span class="n">condition1</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
<span class="n">condition2</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="n">condition1</span><span class="p">){</span>
    <span class="c1">// This code will be skipped</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">condition2</span><span class="p">){</span>
    <span class="c1">// This code will be run</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// This code will be skipped.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As we go forward we will see more and more practical examples of this usage, so don’t worry too much about understanding the nuance and memorizing it now. Just keep in mind that there is a construct that uses <code class="highlighter-rouge">if</code> to control if certain pieces of code get executed or not!</p>

<h4 id="grouping-for-repeating-flow">Grouping for Repeating Flow</h4>

<p>The other common usage for grouping blocks of statements is for when you want to have a chunk of code repeat many times over and over. Admittedly this is less common for robots, but still happens. As a simple example, say you had 20 numbers you wanted to print to the screen - using loops, you can use the same print code many times, minimizing the amount of copy/paste or rewrite work you have to do.</p>

<p>A block of code which is run many times over and over is called a <em>loop</em>. There are two main types of loops available in C.</p>

<p>The <em>while</em> loop repeats a chunk of code so long as a condition is TRUE. The syntax used in C is <code class="highlighter-rouge">while(&lt;condition&gt;) { &lt;code to repeat&gt; }</code>. In a more concrete example:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">condition</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">while</span><span class="p">(</span><span class="n">condition</span><span class="p">){</span>
  <span class="c1">//Code to repeat</span>
  <span class="k">if</span><span class="p">(</span><span class="n">counter</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">){</span>
    <span class="n">condition</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">counter</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If you trace the code execution, you should see that the code on the inside of the while loop runs until our counter is 10 or larger. THe counter starts at 0, and gets incremented every loop until we exit.</p>

<p>The condition of <code class="highlighter-rouge">counter &gt;= 10</code> is referred to as the <em>terminal condition</em> of the loop - it’s the condition which triggers the loop to stop running, and allows execution to continue past the final <code class="highlighter-rouge">}</code> of the block.</p>

<p>Now, of course, <code class="highlighter-rouge">condition</code> doesn’t have to be tied to a fixed number of loops - it could be some event on the robot (like receiving a packet over ethernet) or user interaction (driver pushes a button), for example. But for when you are looking to run for a set number of loops, there is a syntax which allows expressing it more concisely.</p>

<p>Enter the <em>for</em> loop in C. It looks way more complex than it actually is. For loops are used when you know the exact number of times you want to iterate, rather than simply <em>wait</em> for some external event (for an unknown duration).</p>

<p>Just like <em>while</em> loops, <em>for</em> loops cause a block of code to get executed many times. The prefix to that block has extra syntax to provide a concise way of describing how long you will loop for.</p>

<p>This syntax is <code class="highlighter-rouge">for(&lt;init action&gt;; &lt;loop condition&gt;; &lt;loop action&gt;){ &lt;Code to be executed&gt; }</code>. THe Init action is simply a statement to be done right before starting the loop, and the loop action is a statement to be run at the end of the loop.</p>

<p>99% of the time, <em>for</em> loops will be written something like this:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">idx</span><span class="p">;</span>

<span class="k">for</span><span class="p">(</span><span class="n">idx</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">idx</span><span class="o">++</span><span class="p">){</span>
    <span class="c1">// This code runs 10 times</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The sequence of steps that is summarized all in that one line:</p>

<ol>
  <li>Before running anything inside the loop, <code class="highlighter-rouge">idx</code> is set to <code class="highlighter-rouge">0</code></li>
  <li>Every loop, before doing the contents of loop, we check if the condition <code class="highlighter-rouge">idx &lt; 10</code> evaluates to TRUE. This happens for the first 10 loops, but not for any subsequent one.</li>
  <li>After running the contents of the loop, we perform the action <code class="highlighter-rouge">idx++</code>, which keeps idx up to date with the number of times we have completed the loop action.</li>
</ol>

<p>In C, the <em>for</em> loop is pure syntactical candy. There’s no reason you can’t do the exact same thing with a while loop:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">idx</span><span class="p">;</span>

<span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">while</span><span class="p">(</span><span class="n">idx</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">){</span>
    <span class="c1">// This code runs 10 times</span>
    <span class="n">idx</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>However, that takes two extra lines. Since this pattern is very common, the C language built in the <em>for</em> loop shortcut.</p>

<p>We’ll get into more of the nuances of how to make the choice between <em>for</em> and <em>while</em> in future posts.</p>

<h4 id="grouping-for-reusability">Grouping for Reusability</h4>

<p>Another major usage of blocks of instructions is to create reusable chunks of code which perform a specific subset of functionality. In C code, we refer to such blocks of code as <em>functions</em>. A function is simply a block of code with a specific prefix to create the name of the function, specify what inputs it has (the <em>arguments</em>), and define the type of output (the <em>return value</em>) it has.</p>

<p>Generally, the syntax for creating a function is:</p>

<p><code class="highlighter-rouge">&lt;return type&gt; &lt;function name&gt;(&lt;arguments&gt;){ &lt;contents of function&gt;}</code></p>

<p>Functions should generally perform one monolithic task, and one task alone.</p>

<p>For example, let’s create a function with calculates the square of some input number, but preserves the sign of the number. This is a common operation done while conditioning joystick inputs from a driver - it gives them less sensitivity near the center for precise slow motions.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="n">squareSigned</span><span class="p">(</span><span class="kt">double</span> <span class="n">in</span><span class="p">){</span>
    <span class="kt">double</span> <span class="n">result</span><span class="p">;</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">in</span> <span class="o">*</span> <span class="n">in</span><span class="p">;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">in</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">){</span>
        <span class="n">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In painstaking detail, here’s what the handful of lines of code actually mean:</p>

<ol>
  <li>The function is first declared. <code class="highlighter-rouge">double squareSigned</code> says “There is a function named <code class="highlighter-rouge">squareSigned</code> which returns a value of type <code class="highlighter-rouge">double</code>”.</li>
  <li><code class="highlighter-rouge">squareSigned(double in){</code> says “Function <code class="highlighter-rouge">squareSigned</code> takes one argument named <code class="highlighter-rouge">in</code>, which must be of type <code class="highlighter-rouge">double</code>.</li>
  <li>Whenever <code class="highlighter-rouge">squareSigned</code> is run, the first step is to set aside some memory to keep track of the result while we’re performing the operation. We’ll refer to that memory with the name <code class="highlighter-rouge">result</code>, treating it as a double floating point value.</li>
  <li>The first real step calculation is to multiply <code class="highlighter-rouge">in</code> by itself, and store that into <code class="highlighter-rouge">result</code>.</li>
  <li>After we have the value of <code class="highlighter-rouge">in * in</code> stored into <code class="highlighter-rouge">result</code>, we now need to re-apply the sign of <code class="highlighter-rouge">in</code> (since squaring it always produces a positive value).</li>
  <li>We calculate whether in was negative or not by comparing it to zero with the statement <code class="highlighter-rouge">in &lt; 0</code>.</li>
  <li>If <code class="highlighter-rouge">in</code> was in fact negative, we also need to make <code class="highlighter-rouge">result</code> negative. To accomplish this, we use the <em>if</em> statement to conditionally run our negating logic.</li>
  <li>Within the <code class="highlighter-rouge">if(){</code> block, multiply <code class="highlighter-rouge">result</code> by negative one, and store it back into result. This means that <code class="highlighter-rouge">result</code> will now have the same sign as <code class="highlighter-rouge">in</code></li>
  <li>Finally, we specify that the value in <code class="highlighter-rouge">result</code> is to be the return value of the function. With the statement <code class="highlighter-rouge">return result;</code>, we return execution control to whatever chunk of code called this function in the first place, returning the value from <code class="highlighter-rouge">result</code> at the same time.</li>
</ol>

<p>Finally, keep in mind this is just one basic, contrived example, targeted at the first-time learner. We’ll get more into the “when” and “why” of function usage in later posts, but for now, just remember that such a tool for reusing functionality is available in any programming language worth its salt.</p>

<h2 id="miscellaneous-code-examples">Miscellaneous Code Examples</h2>

<h3 id="boolean-values">Boolean Values</h3>

<p>A very common use-case of the bitwise operators is forcing a single bit to 1 or to 0 in a number. For example:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Force the least-significant bit of value to 0, but leave the rest untouched.</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">value</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">b11111110</span><span class="p">;</span>
<span class="c1">//Force the least-significant bit of value to 1, but leave the rest untouched.</span>
<span class="n">value</span> <span class="o">=</span> <span class="n">value</span> <span class="o">|</span> <span class="mi">0</span><span class="n">b00000001</span><span class="p">;</span>
</code></pre></div></div>

<p>Another usecase is to check if a particular bit is 1 or 0:</p>
<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Check if the most-significant bit is set to 1</span>
<span class="n">bit_is_set</span> <span class="o">=</span> <span class="n">value</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">b10000000</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="n">bit_is_set</span><span class="p">){</span>
  <span class="c1">// bit was 1</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// bit was 0</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In this example, the constant <code class="highlighter-rouge">0b10000000</code> is referred to as the “bitmask” since it masks off all bits except the first one (aka forces the to 0). This way, if the top bit is zero, <code class="highlighter-rouge">bit_is_set</code> will be non-zero, and can be used in the <code class="highlighter-rouge">if()</code> statement to change the action of the program.</p>

<h3 id="using-functions">Using Functions</h3>

<p>Consider the <code class="highlighter-rouge">squareSigned()</code> function we looked at earlier. Back in main robot code, this would get used in a fashion something like this:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ...</span>
<span class="kt">double</span> <span class="n">joyValue</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">motValue</span><span class="p">;</span>

<span class="n">joyValue</span> <span class="o">=</span> <span class="n">getDriverXJoystick</span><span class="p">();</span>

<span class="n">motValue</span> <span class="o">=</span> <span class="n">squareSigned</span><span class="p">(</span><span class="n">joyValue</span><span class="p">);</span>

<span class="n">setLeftDriveMotor</span><span class="p">(</span><span class="n">motValue</span><span class="p">);</span>
<span class="n">setRightDriveMotor</span><span class="p">(</span><span class="n">motValue</span><span class="p">);</span>
<span class="c1">// ...</span>
</code></pre></div></div>

<p>In this highly contrived example, we declare two variables to store the value of the joystick, and the value we want to power the motors at. We’ll assume that functions named <code class="highlighter-rouge">getDriverXJoystick()</code> and <code class="highlighter-rouge">setLeftDriveMotor()</code> and <code class="highlighter-rouge">setRightDriveMotor()</code> exist and have been provided to us for interaction with the physical hardware. Our job is just to hook up one piece of hardware to another.</p>

<p>Since this isn’t the only joystick on the robot, we’ll use our common <code class="highlighter-rouge">squareSigned()</code> function to perform the desired mapping from a joystick reading to a motor command.</p>

<p>In this example, we first populate our <code class="highlighter-rouge">joyValue</code> with some value read in from the joysticks.</p>

<p>We then pass that value into our function <code class="highlighter-rouge">squareSigned()</code>, which transfers control of the program to that function. When the function is done with its transformation, its <em>return value</em> is stored into our variable <code class="highlighter-rouge">motValue</code>. We can then use <code class="highlighter-rouge">motValue</code> as the command to send to both motors.</p>

<p>Note that for these examples, we’ve chosen some very obvious names for our variables. Clearly, to any reasonably astute observer, <code class="highlighter-rouge">joyValue</code> would tend to imply something along the lines of “value from a joystick”, and <code class="highlighter-rouge">motValue</code> would imply “value for a motor”. This is intentional - choose meaningful names so its easier for you to remember exactly what each variable is for, when you come back and look at the code in 5 weeks and have no idea what it was doing.</p>

<p>Of course, the compiler is not a human, and doesn’t know that the string of characters <code class="highlighter-rouge">joyValue</code> has any real relationship to a joystick. No matter how good of names you choose for your variables, the compiler will still always expect you to populate them with meaningful values yourself - ie, call <code class="highlighter-rouge">getDriverXJoystick()</code> and assign it into <code class="highlighter-rouge">joyValue</code>. The above code could be written as:</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ...</span>
<span class="kt">double</span> <span class="n">woodieFlowers</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">deanKamen</span><span class="p">;</span>

<span class="n">woodieFlowers</span> <span class="o">=</span> <span class="n">getDriverXJoystick</span><span class="p">();</span>

<span class="n">deanKamen</span> <span class="o">=</span> <span class="n">squareSigned</span><span class="p">(</span><span class="n">woodieFlowers</span><span class="p">);</span>

<span class="n">setLeftDriveMotor</span><span class="p">(</span><span class="n">deanKamen</span><span class="p">);</span>
<span class="n">setRightDriveMotor</span><span class="p">(</span><span class="n">deanKamen</span><span class="p">);</span>
<span class="c1">// ...</span>
</code></pre></div></div>

<p>And it would work the exact same way. The only difference is you’ll be hating yourself in three days when you have no recollection what a <code class="highlighter-rouge">woodieFlowers</code> is for.</p>

<h2 id="next-steps---where-are-we-going">Next Steps - Where are we going?</h2>

<p>We’re nearing the end of the story-arc for our introductory content! Next up, we’ll start exploring how these basic C constructs are accomplished on a real processor. This will be the last major building block in understanding, at a high level, how lines of code actually perform their action under the hood. <a href="/blog_posts/2019/08/10/x86_intro.html">To get started, check out our introduction to the x86 assembly language!</a></p>

  </div><a class="u-url" href="/blog_posts/2019/07/28/programming_language_c_syntax.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Tricking Rocks to Think</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Tricking Rocks to Think</li><li><a class="u-email" href="mailto:webmaster@trickingrockstothink.com">webmaster@trickingrockstothink.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/gerth2"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">gerth2</span></a></li><li><a href="https://www.linkedin.com/in/christopher-gerth-7b8b52126"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">christopher-gerth-7b8b52126</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Thoughts on software development, leadership, and sundry other topics in the context of the FIRST robotics competition.</p>
      </div>
    </div>

  </div>

</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140459603-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-140459603-1');
</script> -->


  </body>

</html>
